(function(){const b='static',a='v1::',c='https://vizsum.github.io/off/';function e(){const d=['https://vizsum.github.io/','https://vizsum.github.io/manifest.json','/css/index.min.dda27ae380a9c892119b8c7280985704fb75a06c731b762285b4e02c710bdffa98fc537ea1a2af30415549af6d74a914de02f665635c634d14bc361f986bfd6e.css','/index.min.js','https://vizsum.github.io/image/background_hu5fa5007403ed47f8e70c21b28ee4cec6_92766_1400x787_fill_q75_box_smart1.jpg','https://vizsum.github.io/image/background-dark_huacd336bfb7f5597695f9c32d4115a2aa_1561823_1400x787_fill_q75_box_smart1.jpg',c,'https://vizsum.github.io/index.json'];return caches.open(a+b).then(a=>a.addAll(d)).catch(a=>{console.log("Error = ",a),console.log(a.stack)})}self.addEventListener('install',a=>a.waitUntil(e())),self.addEventListener('activate',function(b){b.waitUntil(caches.keys().then(function(b){return Promise.all(b.filter(b=>b.indexOf(a)!==0).map(a=>caches.delete(a)))}))});function d(){return caches.match(c).then(a=>a.text()).then(a=>new Response(a,{status:200,headers:{'Content-Type':'text/html'}}))}self.addEventListener('fetch',function(e){const c=e.request;if(c.method!=='GET')return e.respondWith(fetch(c).catch(d));if(c.headers.get('Accept').indexOf('text/html')!==-1){e.respondWith(fetch(c).then(function(d){const e=d.clone();return caches.open(a+b).then(function(a){a.put(c,e)}),d}).catch(function(){return caches.match(c).then(function(a){return a||d()})}));return}e.respondWith(caches.match(c).then(function(a){return a||fetch(c).catch(function(){return c.url.match(/\.(jpe?g|png|gif|svg)$/)?new Response('<svg role="img" aria-labelledby="offline-title" viewBox="0 0 400 225" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice"><title id="offline-title">Offline</title><path fill="rgba(145,145,145,0.5)" d="M0 0h400v225H0z" /><text fill="rgba(0,0,0,0.33)" font-family="Helvetica Neue,Arial,sans-serif" font-size="27" text-anchor="middle" x="200" y="113" dominant-baseline="central">Offline</text></svg>',{headers:{'Content-Type':'image/svg+xml'}}):new Response('')})}))})})()